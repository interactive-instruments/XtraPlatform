plugins {
    id 'de.interactive_instruments.xtraplatform-feature' version '3.4.0'
    id "com.diffplug.spotless" version "5.1.2" apply false
    id 'com.jfrog.bintray' version '1.8.4' apply false
    //id 'com.github.hierynomus.license-report' version '0.15.0' apply false
}

allprojects {
    group = 'de.interactive_instruments'
}

ext {
    versionSuffix = project.findProperty('isSnapshot') == 'true' ? '-SNAPSHOT' : ''
}

version = '3.3.0' + versionSuffix

dependencies {
    bundle subprojects

    bundle group: 'org.slf4j', name: 'osgi-over-slf4j', version: '1.7.25'

    // felix
    //bundle group: 'org.apache.felix', name: 'org.apache.felix.configadmin', version: '1.9.12'
    bundle group: 'org.apache.felix', name: 'org.apache.felix.eventadmin', version: '1.5.0'

    // felix http
    bundle group: 'org.apache.felix', name: 'org.apache.felix.http.bridge', version: '4.0.4'
    bundle group: 'org.apache.felix', name: 'org.apache.felix.http.whiteboard', version: '4.0.0'

    //felix ipojo
    bundle group: 'org.apache.felix', name: 'org.apache.felix.ipojo', version: '1.12.1'
    bundle (group: 'org.apache.felix', name: 'org.apache.felix.ipojo.handler.eventadmin', version: '1.8.0')
    bundle (group: 'org.apache.felix', name: 'org.apache.felix.ipojo.handler.whiteboard', version: '1.6.0')
    bundle (group: 'org.apache.felix', name: 'org.apache.felix.ipojo.handler.extender', version: '1.4.0')
}

apply from: '../immutables.gradle'

apply from: '../bintray.gradle'

apply from: '../snapshot.gradle'

//apply from: '../formatting.gradle'

/*
apply from: '../unit-tests.gradle'


apply from: '../license-report.gradle'

*/
apply from: '../composite-tasks.gradle'
