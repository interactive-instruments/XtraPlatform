
ext {
    swaggerVersion='2.0.3'
}

dependencies {
    /*embedded (group: 'io.openapi', name: 'openapi-jaxrs2', version: '2.0.0-rc2') {
        exclude group: 'org.slf4j', module: 'slf4j-api'
        exclude group: 'ch.qos.logback', module: 'logback-classic'
        exclude group: 'ch.qos.logback', module: 'logback-core'
        exclude group: 'javax.ws.rs', module: 'jsr311-api'

    }*/

    provided project(':xtraplatform-web-rest')

    embeddedFlat (group: 'io.swagger.core.v3', name: 'swagger-jaxrs2', version: swaggerVersion) {
        exclude module: 'jersey-server'
    }
    embeddedFlat group: 'io.swagger.core.v3', name: 'swagger-models', version: swaggerVersion
    embeddedFlat group: 'io.swagger.core.v3', name: 'swagger-annotations', version: swaggerVersion
    embeddedFlat group: 'io.swagger.core.v3', name: 'swagger-integration', version: swaggerVersion
    embeddedFlat group: 'io.swagger.core.v3', name: 'swagger-core', version: swaggerVersion
    embeddedFlat 'org.reflections:reflections:0.9.11'
} 

jar {
    manifest { 
        /*
        instruction 'Import-Package', 'javax.ws.rs'
        instruction 'Import-Package', 'javax.ws.rs.ext'
        instruction 'Import-Package', 'javax.ws.rs.core'
        instruction 'Import-Package', 'javax.servlet'
        instruction 'Import-Package', 'javax.xml.bind.annotation'
        
         */
        instructionFirst 'Import-Package', '!com.google.gson'
        instructionFirst 'Import-Package', '!org.dom4j'
        instructionFirst 'Import-Package', '!org.dom4j.io'
    }
}
